<VirtualHost *:443>
    ServerName courtlistener.com
    ServerSignature Off
    Protocols h2 http/1.1

    # Redirect people to www
    RewriteEngine On
    RewriteRule ^(.*)$ https://www.courtlistener.com$1 [R=permanent,L]

    # Enable https. This uses the same settings as courtlistener.com itself.
    # Since Let's Encrypt can auto-update some of this stuff it just seems
    # safer to repeat it.
    SSLEngine on
    SSLProtocol            all -SSLv2 -SSLv3 -TLSv1 -TLSv1.1
    SSLCipherSuite         ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-RSA-CHACHA20-POLY1305:DHE-RSA-AES128-GCM-SHA256:DHE-RSA-AES256-GCM-SHA384
    SSLHonorCipherOrder    off

    # Current SSL Settings
    SSLCertificateFile /etc/letsencrypt/live/courtlistener.com/cert.pem
    SSLCertificateKeyFile /etc/letsencrypt/live/courtlistener.com/privkey.pem
</VirtualHost>
