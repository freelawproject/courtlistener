BEGIN;
--
-- Create model APIThrottle
--
CREATE TABLE "api_apithrottle" (
    "id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
    "date_created" timestamp with time zone NOT NULL,
    "date_modified" timestamp with time zone NOT NULL,
    "throttle_type" smallint NOT NULL,
    "blocked" boolean NOT NULL,
    "rate" varchar(20) NOT NULL,
    "notes" text NOT NULL,
    "user_id" integer NOT NULL
);
--
-- NOTE: Event tables and triggers are not included for customer databases.
--
--
-- Create constraint unique_user_throttle_type on model apithrottle
--
ALTER TABLE "api_apithrottle" ADD CONSTRAINT "unique_user_throttle_type" UNIQUE ("user_id", "throttle_type");
ALTER TABLE "api_apithrottle" ADD CONSTRAINT "api_apithrottle_user_id_7336c65c_fk_auth_user_id" FOREIGN KEY ("user_id") REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "api_apithrottle_date_created_1dc58999" ON "api_apithrottle" ("date_created");
CREATE INDEX "api_apithrottle_date_modified_59d55305" ON "api_apithrottle" ("date_modified");
CREATE INDEX "api_apithrottle_user_id_7336c65c" ON "api_apithrottle" ("user_id");
COMMIT;
