{% extends 'new_base.html' %}
{% load extras %}

{% block title %}Legal Search API – CourtListener.com{% endblock %}
{% block og_title %}Legal Search API – CourtListener.com{% endblock %}

{% block description %}Use this API to search case law, federal filings and cases, judges, and oral argument audio files.{% endblock %}
{% block og_description %}Use this API to search case law, federal filings and cases, judges, and oral argument audio files.{% endblock %}

{% block sidebar %}{% endblock %}

{% block footer-scripts %}
  {% include "includes/anchors.html" %}
{% endblock %}
{% block content %}

<c-layout-with-navigation
  data-first-active="about"
  :nav_items="[
    {'href': '#about', 'text': 'Overview'},
    {'href': '#usage', 'text': 'Basic Usage'},
    {'href': '#understanding', 'text': 'Understanding', 'children': [
      {'href': '#semantic-search', 'text': 'Semantic Search'},
      {'href': '#type', 'text': 'Result Types'},
      {'href': '#ordering', 'text': 'Ordering'},
      {'href': '#filtering', 'text': 'Filtering'},
      {'href': '#fields', 'text': 'Fields'},
      {'href': '#highlighting', 'text': 'Highlighting'},
      {'href': '#counts', 'text': 'Result Counts'},
      {'href': '#notes', 'text': 'Special Notes'},
      ]},
    {'href': '#monitoring', 'text': 'Monitoring a Query'},
  ]"
>
  <c-layout-with-navigation.section id="about">
    <h1>Legal Search&nbsp;API</h1>
    <h2><code class="text-display-xs font-semibold">{% url "search-list" version=version %}</code></h2>
    <p class="lead">Use this API to search case law, PACER data, judges, and oral argument audio recordings.</p>
    <p>To get the most out of this API, see our <a class="text-primary-600" href="{% url "coverage" %}">coverage</a>, <a class="text-primary-600" href="{% url "advanced_search" %}">advanced operators</a>, and <a class="text-primary-600" href="{% url "relative_dates" %}">relative date queries</a> documentation.</p>
  </c-layout-with-navigation.section>

  <c-layout-with-navigation.section id="usage">
    <h2>Basic Usage</h2>
    <p>This API uses the same GET parameters as the front end of the website. To use this API, place a search query on the front end of the website. That will give you a URL like:</p>
    <c-code>
      {% get_full_host %}/q=foo
    </c-code>
    <p>To make this into an API request, copy the GET parameters from this URL to the API endpoint, creating a request like:</p>
    <c-code>
  curl -X GET \
    --header 'Authorization: Token {% if user.is_authenticated %}{{ user.auth_token }}{% else %}&lt;your-token-here&gt;{% endif %}' \
    '{% get_full_host %}{% url "search-list" version=version %}?q=foo'
    </c-code>
    <p>That returns:</p>
    <c-code>
{
  "count": 2343,
    "next": "https://www.courtlistener.com/api/rest/v4/search/?cursor=cz0yMzUuODcxMjUmcz04MDUzNTUzJnQ9byZkPTIwMjQtMDktMTY%3D&q=foo",
    "previous": null,
    "results": [
        {
            "absolute_url": "/opinion/6613686/foo-v-foo/",
            "attorney": "",
            "caseName": "Foo v. Foo",
            "caseNameFull": "Foo v. Foo",
            "citation": [
                "101 Haw. 235",
                "65 P.3d 182"
            ],
            "citeCount": 0,
            "cluster_id": 6613686,
            "court": "Hawaii Intermediate Court of Appeals",
            "court_citation_string": "Haw. App.",
            "court_id": "hawapp",
            "dateArgued": null,
            "dateFiled": "2003-01-10",
            "dateReargued": null,
            "dateReargumentDenied": null,
            "docketNumber": "24158",
            "docket_id": 63544014,
            "judge": "",
            "lexisCite": "",
            "meta": {
                "timestamp": "2024-06-22T10:26:35.320787Z",
                "date_created": "2022-06-26T23:24:18.926040Z",
                "score": {
                    "bm25": 2.1369965
                }
            },
            "neutralCite": "",
            "non_participating_judge_ids": [],
            "opinions": [
                {
                    "author_id": null,
                    "cites": [],
                    "download_url": null,
                    "id": 6489975,
                    "joined_by_ids": [],
                    "local_path": null,
                    "meta": {
                        "timestamp": "2024-06-24T21:14:41.408206Z",
                        "date_created": "2022-06-26T23:24:18.931912Z"
                    },
                    "per_curiam": false,
                    "sha1": "",
                    "snippet": "\nAffirmed in part, reversed in part, vacated and remanded\n",
                    "type": "lead-opinion"
                }
            ],
            "panel_ids": [],
            "panel_names": [],
            "posture": "",
            "procedural_history": "",
            "scdb_id": "",
            "sibling_ids": [
                6489975
            ],
            "source": "U",
            "status": "Published",
            "suitNature": "",
            "syllabus": ""
        },
...
  </c-code>
  <p>That's the simple version. Read on to learn the rest.</p>
  </c-layout-with-navigation.section>

  <c-layout-with-navigation.section id="understanding">
    <h2>Understanding the API</h2>
    <p>Unlike most APIs on CourtListener, this API is powered by our search engine, not our database.</p>
    <p>This means that it does not use the same approach to ordering, filtering, or field definitions as our other APIs, and sending an HTTP <code>OPTIONS</code> request won't be useful.</p>

    <p>CourtListener's search results are powered by the <a class="text-primary-600" href="{% url "citegeist_help" %}">Citegeist&trade; Relevancy Engine</a>, which supports both keyword search and semantic search.</p>
    <p>Semantic search makes it possible to query the case law database using plain language queries, instead of keywords. It can be a better tool for untrained users, while keyword search provides a powerful ranking system with deep pagination that may be more familiar to attorneys.</p>
    <p>For a deeper treatment of the pros and cons of these systems, please read <a class="text-primary-600" href="{% url "citegeist_help" %}">our help page on Citegeist</a>.</p>
  </c-layout-with-navigation.section>

  <c-layout-with-navigation.section id="semantic-search">
    <h3>Semantic Search vs. Keyword Search</h3>
    <p>By default, API requests will be handled by our keyword search engine.</p>
    <p>To use semantic search instead, special <code>GET</code> parameters or <code>POST</code> requests are needed. Whether to use <code>GET</code> or <code>POST</code> depends on the privacy requirements of your application:</p>
    <ul>
      <li>
        <p><strong>GET</strong> — If you are able to send search queries to CourtListener, using a <code>GET</code> request is best and simplest.
        </p>
        <p>To use semantic search with a <code>GET</code> request, add <code>semantic=true</code> to your request, and you will place a semantic query instead of a keyword query. It's that simple.</p>
      </li>
      <li>
        <p><strong>POST</strong> — If regulatory or privacy requirements prevent you from sending search queries to CourtListener — or if you just prefer a more private approach — we have another solution.</p>
        <p>When you use a <code>GET</code> request, we receive the query, embed it on our system and calculate results. If you use a <code>POST</code> request, you can do the embedding in your system and send us <em>only</em> the resulting embedding, instead of sending the query.</p>
        <p>To <code>POST</code> pre-computed embeddings to this endpoint, include a JSON body in the POST request:</p>
        <c-code>
{
  "embedding": [0.123, 0.456, -0.789, ...]
}
        </c-code>
      <p>The <code>embedding</code> key in your request body is a list of floating-point numbers representing a vector of your query. It should have a length of 768 dimensions and is required for <code>POST</code> requests.</p>
      <p>To calculate embeddings, we recommend our <a class="underline" href="https://github.com/freelawproject/inception">Inception microservice</a>. For it to work properly, you will need to use <a class="underline" href="https://free.law/2025/03/11/semantic-search">our fine-tuned model</a>.</p>
    </li>
  </ul>
  <p>Semantic search is only available for the case law search engine.</p>
  </c-layout-with-navigation.section>

  <c-layout-with-navigation.section id="type">
    <h3>Setting the Result Type</h3>
    <p>The most important parameter in this API is <code>type</code>. This parameter sets the type of object you are querying:</p>
    <c-data-table
      safe
      caption="Search type parameter values"
      :columns="[
        {'label': 'Type', 'field': 'type'},
        {'label': 'Definition', 'field': 'definition'}
      ]"
      :rows="[
        {'type': '<code>o</code>', 'definition': 'Case law opinion clusters with nested Opinion documents.'},
        {'type': '<code>r</code>', 'definition': 'List of Federal cases (dockets) with up to three nested documents. If there are more than three matching documents, the <code>more_docs</code> field for the docket result will be <code>true</code>.'},
        {'type': '<code>rd</code>', 'definition': 'Federal filing documents from PACER'},
        {'type': '<code>d</code>', 'definition': 'Federal cases (dockets) from PACER'},
        {'type': '<code>p</code>', 'definition': 'Judges'},
        {'type': '<code>oa</code>', 'definition': 'Oral argument audio files'},
      ]"
    ></c-data-table>
    <p>For example, this query searches case law:</p>
    <c-code>
{% get_full_host %}/q=foo&type=o
    </c-code>
    <p>And this query searches federal filings in the PACER system:</p>
    <c-code>
{% get_full_host %}/q=foo&type=r
    </c-code>
    <p>If the <code>type</code> parameter is not provided, the default is to search case law.</p>
  </c-layout-with-navigation.section>

  <c-layout-with-navigation.section id="ordering">
    <h3>Ordering Results</h3>
    <p>Each search <code>type</code> can be sorted by certain fields. These are available on the front end in the ordering drop down, which sets the <code>order_by</code> parameter.</p>
    <p>Our <a class="text-primary-600" href="{% url "citegeist_help" %}">Citegeist&trade; Relevancy Engine</a> sorts results when you order by relevancy. It uses a combination of factors to provide the most important results first.</p>
    <p>If your sorting field has null values, those results will be sorted at the end of the query, regardless of whether you sort in ascending or descending order. For example, if you sort by a date that is null for an opinion, that opinion will go at the end of the result set.</p>
  </c-layout-with-navigation.section>

  <c-layout-with-navigation.section id="filtering">
    <h3>Filtering Results</h3>
    <p>Results can be filtered with the input boxes provided on the front end or by <a class="text-primary-600" href="{% url "advanced_search" %}">advanced query operators</a> provided to the <code>q</code> parameter.</p>
    <p>The best way to refine your query is to do so on the front end, and then copy the GET parameters to the API.</p>
  </c-layout-with-navigation.section>

  <c-layout-with-navigation.section id="fields">
    <h3>Fields</h3>
    <p>Unlike most of the fields on CourtListener, many fields on this API are provided in camelCase instead of snake_case. This is to make it easier for users to place queries like:</p>
    <c-code>
caseName:foo
    </c-code>
    <p>Instead of:</p>
    <c-code>
case_name:foo
    </c-code>
    <p>All available fields are listed on the <a class="text-primary-600" href="{% url "advanced_search" %}">advanced operators help page</a>.</p>
    <p>To understand the meaning of a field, find the object in our regular APIs that it corresponds to, and send an HTTP <code>OPTIONS</code> request to the API.</p>
    <p>For example, the <code>docketNumber</code> field in the search engine corresponds to the <code>docket_number</code> field in the <code>docket</code> API, so an HTTP <code>OPTIONS</code> request to that API returns its definition:</p>
    <c-code>
curl -X OPTIONS \
  --header 'Authorization: Token {% if user.is_authenticated %}{{ user.auth_token }}{% else %}&lt;your-token-here&gt;{% endif %}' \
  "{% get_full_host %}{% url "docket-list" version=version %}" \
  | jq '.actions.POST.docket_number'
    </c-code>
    <p>After filtering through <a class="underline" href="https://github.com/jqlang/jq"><code>jq</code></a>, that returns:</p>
    <c-code>
{
  "type": "string",
  "required": false,
  "read_only": false,
  "label": "Docket number",
  "help_text": "The docket numbers of a case, can be consolidated and quite long. In some instances they are too long to be indexed by postgres and we store the full docket in the correction field on the Opinion Cluster."
}
    </c-code>
  </c-layout-with-navigation.section>

  <c-layout-with-navigation.section id="highlighting">
    <h3>Highlighting Results</h3>
    <p>To enhance performance, results are not highlighted by default. To enable highlighting, include <code>highlight=on</code> in your request.</p>
    <p>When highlighting is disabled, the first 500 characters of snippet fields are returned for fields <code>o</code>, <code>r</code>, and <code>rd</code>.</p>
  </c-layout-with-navigation.section>

  <c-layout-with-navigation.section id="counts">
    <h3>Result Counts</h3>
    <p><code>type=d</code> and <code>type=r</code> use cardinality aggregation to compute the result count. This enhances performance, but has an error of ±6% if results are over 2000. We recommend noting this in your interface by saying something like, "About 10,000 results."</p>
  </c-layout-with-navigation.section>

  <c-layout-with-navigation.section id="notes">
    <h3>Special Notes</h3>
    <p>A few fields deserve special consideration:</p>
    <ol>
      <li>
        <p>As in the front end, when the <code>type</code> is set to return case law, only published results are returned by default. To include unpublished and other statuses, you need to explicitly request them.</p>
      </li>
      <li>
        <p>The <code>snippet</code> field contains the same values as are found on the front end. This uses the HTML5 <code>&lt;mark&gt;</code> element to identify up to five matches in a document.</p>
        <p>This field only responds to arguments provided to the <code>q</code> parameter.  If the <code>q</code> parameter is not used, the <code>snippet</code> field will show the first 500 characters of the <code>text</code> field.</p>
        <p>This field only displays Opinion text content.</p>
      </li>
      <li>
        <p>The <code>meta</code> field in main documents contains the <code>score</code> field, which is currently a JSON object that includes the <code>bm25</code> score used by Elasticsearch to rank results. Additional scores may be introduced in the future.</p>
      </li>
    </ol>
  </c-layout-with-navigation.section>

  <c-layout-with-navigation.section id="monitoring">
    <h2>Monitoring a Query for New&nbsp;Results</h2>
    <p>All query results are cached for ten minutes. This provides instant responses to front-end users who frequently refresh or paginate results.</p>
    <p>Because of this, we do not recommend polling as a mechanism for monitoring queries for new results. Instead, use the <a class="text-primary-600" href="{% url "search_api_help" %}">Alert API</a>, which will send emails or <a class="text-primary-600" href="{% url "webhooks_docs" %}">webhook events</a> when there are new hits.</p>
  </c-layout-with-navigation.section>

  <c-support-plea-banner />

</c-layout-with-navigation>
{% endblock %}
