{% extends "base.html" %}
{% load extras %}

{% block title %}REST API, v3 &ndash; CourtListener.com{% endblock %}
{% block description %}
    The first REST API for federal and state opinions and still the best.
    Provided free of charge from Free Law Project, a 501(c)(3) non-profit.
{% endblock %}
{% block og_description %}
    The first REST API for federal and state opinions and still the best.
    Provided free of charge from Free Law Project, a 501(c)(3) non-profit.
{% endblock %}
{% block search-form %}{% endblock %}

{% block sidebar %}{% endblock %}

{% block footer-scripts %}
    {% include "includes/anchors.html" %}
{% endblock %}

{% block content %}
    <div class="col-sm-7">
        <h1 id="about">REST API &ndash; V3</h1>

        <p>For developers that wish to have a granular API for our data, we provide a RESTful API based on the <a href="http://www.django-rest-framework.org/" target="_blank">Django REST Framework</a>.
        </p>
        <p>This API provides responses in JSON, XML, or HTML, with JSON as the default. If you visit the API using your browser you'll receive nicely formatted HTML making your work as a developer as simple as possible. Hit this button, and you'll open a new tab listing all of the endpoints this API supports:
        </p>
        <p><a href="{% url "api-root" version="v3" %}"
              target="_blank"
              class="btn btn-lg btn-primary">
            Show Endpoints</a>
        </p>
        <p>We could have also pulled up that same information using curl, using a command like:</p>

        <pre class="scrollable">curl {% get_full_host %}{% url "api-root" version="v3" %}</pre>

        <p>Note that when you pressed the button, you got an HTML result, but when you ran <code>curl</code> you got a JSON object. This is deliberate and is
            <a href="#formats">discussed in more depth below</a>.
        </p>
        <p>The endpoints listed in this response can be used in combination to make sophisticated queries against our database or our search engine. To learn more about an endpoint, you can send an <code>OPTIONS</code> request to it, like so:
        </p>

        <pre class="scrollable">curl -X OPTIONS {% get_full_host %}{% url "api-root" version="v3" %}</pre>

        <p>This replaces the "schema" queries that were available in previous versions of the API. If you're browsing the HTML version of the API, you can also just press the big button that says "OPTIONS".
        </p>

        <p>The following representation of our database shows how these endpoints work together:
        </p>
        <p>
            <a href="{{ STATIC_PREFIX }}png/schema-design-v3.png"
               target="_blank"
               title="Click to see details.">
                <img src="{{ STATIC_PREFIX }}png/schema-design-v3-small.png"
                     width="640"
                     height="423"
                     class="img-responsive img-rounded">
            </a>
        </p>

        <p>In addition to the relations above, the basic ideas are:</p>
        <ul>
            <li><code>Dockets</code> are the top-level objects and they contain <code>OpinionClusters</code> and <code>Audio</code> files. In the future, we envision having a <code>Case</code> object that contains the multiple <code>Dockets</code> for a case that are generated as it travels between lower and upper courts. Until then, <code>Dockets</code> are the highest level object, just serving to group other objects together.
            </li>
            <li><code>OpinionClusters</code> are collections of <code>Opinion</code> objects. <code>Opinion</code>s can be Dissents, Concurrences or other types of opinion, and so this is how they are grouped together for a specific case. If we don't know if an <code>Opinion</code> is a Dissent, Concurrence or something else, we just call it a Combined Opinion. You can see all the different types of Opinions by sending an <code>OPTIONS</code> request to the <code>Opinion</code> endpoint.
            </li>
            <li>As a general rule, metadata lives at the highest level where it makes sense. For example, it's possible to put docket numbers in the <code>OpinionCluster</code> objects, but it makes more sense at a higher level&mdash;at the <code>Docket</code> level. A sometimes-confusing counter example are case names, which have metadata at the <code>Docket</code> level <em>and</em> at the <code>OpinionCluster</code> level. This is because case names can change at different times, and because a single <code>Docket</code> could have multiple <code>OpinionClusters</code>, each with a different case name. <a href="#case-names">See more information about case names.</a>
            </li>
            <li>Each <code>Docket</code> is associated with a single jurisdiction. Generally, this is the court where the dispute was litigated. If the case moves between jurisdictions, each jurisdiction has its own <code>Docket</code>.
            </li>
            <li>As of version three of this API, <code>Opinions</code> objects cite each other, allowing a dissent to cite a concurrence or any other combination of <code>Opinion</code> types.
            </li>
            <li><code>Judge</code>s have <code>Career</code>s, <code>Title</code>s,
                <code>Position</code>s, and a number of other fields as described in the image above.
            </li>
        </ul>



        <h2 id="overview">Overview of Endpoints</h2>
        <p>This section explains general principles of the API and rules that apply to all of our RESTful endpoints. In general, these principals are driven by the features supported by the <a href="http://www.django-rest-framework.org/" target="_blank"> Django REST Framework</a>. For more information about many of these sections, we encourage you to check out the documentation there.
        </p>


        <h3 id="permissions">Permissions</h3>
        {# has_beta_api_access -- remove this when removing the permission block. #}
        <p>Endpoints relating to judges are currently only available to select beta testers. If you wish to have access to these endpoints, <a href="{% url "contact" %}">please get in touch.</a>
        </p>
        <p>All other endpoints are available according to the <a href="#limitations-throttles">throttling</a> and <a href="#authentication">authentication</a> limitations listed below.
        </p>


        <h3 id="authentication">Authentication</h3>
        <p>Authentication is necessary so we can monitor usage of the system and so we can assist with any errors that may occur. Per our <a href="{% url "terms" %}#privacy">privacy policy</a>, we do not track your queries in the API, though we do collect statistical information for system monitoring.
        </p>
        <p>There are currently four types of authentication available on the API:
        </p>
        <ol>
            <li>
                <a href="http://en.wikipedia.org/wiki/Basic_access_authentication">HTTP Basic Authentication</a>
            </li>
            <li>
                <a href="https://docs.djangoproject.com/en/dev/topics/auth/" target="_blank"> Django Session Authentication</a> (using cookies)
            </li>
            <li>
                <a href="http://www.django-rest-framework.org/api-guide/authentication/#tokenauthentication">Django REST Framework Token Authentication</a>
            </li>
        </ol>
        <p>One form of authentication that is currently not supported is <a href="http://tools.ietf.org/html/rfc6749">OAuth2</a>. If this is a valuable form of authentication for your service, please get in touch using <a href="{% url "contact" %}">our contact form</a>, or chime in to <a href="https://github.com/freelawproject/courtlistener/issues/371">the issue where we're tracking this feature</a>. If there is enough demand, or if somebody steps forward to develop this feature, it will be added.
        </p>
        <p>All communication with the CourtListener servers is over HTTPS, and so the choice of which form of authentication to use is generally a question of what's most convenient for the context of your work. Our recommendations are:
        </p>
        <ul>
            <li>Use Basic Authentication for testing.</li>
            <li>Use Django Session Authentication if you already have a user's cookie or are developing a system where you can ask the user to log into CourtListener.
            </li>
            <li>Use Token Authentication for all normal programmatic API access.</li>
        </ul>
        <p>Up until now, in this documentation we've used the API without authenticating at all. We made this possible for tutorials like this, but there are very harsh throttles for users that are not authenticated. It is not recommended to use the APIs without authenticating. (<a href="#limitations-throttles">See more about Throttles</a>.)
        </p>


        <h4 id="basic-auth">HTTP Basic Authentication</h4>
        <p>To do HTTP Basic Authentication using curl, you might do something like this:
        </p>
        <pre class="scrollable">curl --user "harvey:your-password"
            {% get_full_host %}{% url "opinioncluster-list" version="v3" %}</pre>
        <p>
            You can also do it in your browser with a url like:
        </p>
        <pre class="scrollable">{% get_full_host username='harvey' password='your-password' %}{% url "opinioncluster-list" version="v3" %}</pre>
        <p>But if you're using your browser, <a href="{% url 'sign-in' %}">you might as well just log in</a>.
        </p>


        <h4 id="session-auth">Django Session Authentication</h4>
        <p>To use Django Session Authentication, simply log into the website.</p>


        <h4 id="token-auth">Token Authentication</h4>
        <p>To use your token, use the <code>Authentication</code> HTTP Header. The key should be prefixed by the string literal <code>Token</code>, with whitespace separating the two strings. For example:
        </p>
        <pre class="scrollable">Authorization: Token {% if user.is_authenticated %}{{ user.auth_token }}{% else %}&lt;your-token-here&gt;{% endif %}</pre>
        <p>Using curl, this looks like:</p>
        <pre class="scrollable">curl {% get_full_host %}{% url "opinioncluster-list" version="v3" %} --header 'Authorization: Token {% if user.is_authenticated %}{{ user.auth_token }}{% else %}&lt;your-token-here&gt;{% endif %}'</pre>
        <p>Note that quotes are used to enclose the whitespace in the header.</p>
        {% if user.is_authenticated %}
            <p>Your permanent token for use with this API is being used in the examples above, is at the top of this page, and is:</p>
            <pre class="scrollable">{{ user.auth_token }}</pre>
        {% else %}
            <p><a href="{% url "sign-in" %}?next={{ request.path }}#token-auth">Sign in to see your permanent token in these examples and at the top of this page.</a>
            </p>
        {% endif %}


        <h3 id="formats">Serialization Formats</h3>
        <p>Requests may be serialized as HTML, JSON, or XML, with JSON as the default if no format is specified. The format you wish to receive may be requested via the HTTP <code>Accept</code> header.
        </p>
        <p>The following media types and parameters can be used:
        </p>
        <ul>
            <li><strong>HTML</strong>: The media type for HTML is <code>text/html</code>.</li>
            <li><strong>JSON</strong>: The media type for JSON is <code>application/json</code>. Providing the <code>indent</code> media type parameter allows clients to set the indenting for the response, for example: <code>Accept: application/json; indent=2</code>.
            </li>
            <li><strong>XML</strong>: The media type for XML is <code>application/xml</code>.
            </li>
        </ul>
        <p>JSONP, a clever browser hack, is no longer provided due to the wide support of <a href="http://www.w3.org/TR/cors/">CORS</a>. YAML is no longer supported due to the ubiquitous availability of JSON parsers.
        </p>
        <p>Note that by default, browsers send an <code>Accept</code> header similar to:
        </p>
        <pre class="scrollable">text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8</pre>
        <p>This states that <code>text/html</code> is the preferred serialization format, and the API respects that, returning HTML when requested by a browser and returning JSON when no <code>Accept</code> header is provided (such as when using cURL).
        </p>
        <p>If you wish to set the <code>Accept</code> header using cURL, you can do so using the <code>--header</code> flag:
        </p>
        <pre class="scrollable">curl --header "Accept: application/xml"{% get_full_host %}{% url "opinioncluster-list" version="v3" %}</pre>
        <p>All data is serialized using the utf-8 charset.</p>


        <h3 id="parsing">Parsing Uploaded Content</h3>
        <p>If you are a user that has write access to these APIs (most users do not), you will need to use the <code>Content-Type</code> HTTP header to explicitly set the format of the content you are uploading. The header can be set to any of the values that are available for serialization or to <code>application/x-www-form-urlencoded</code> or <code>multipart/form-data</code>, if you are sending form data.
        </p>


        <h3 id="filtering">Filtering</h3>
        <p>Each endpoint can be filtered in a variety of ways using a technique similar to <a href="https://docs.djangoproject.com/en/dev/ref/models/querysets/#field-lookups">Django's field lookups</a> (see exceptions in <a href="#fn1" id="fn-ref-1">footnote 1</a>). The best way to see how an endpoint can be filtered is by doing an OPTIONS request on the endpoint, and inspecting the <code>filters</code> key in the response.
        </p>
        <p>In the <code>filters</code> key, you'll find a dictionary listing all of the fields that can be used for filtering along with their their types, lookup fields, and any values (aka choices) that can be used for specific lookups. For example, every <code>OpinionCluster</code> has a field called <code>lexis_cite</code> that can be used for lookups. An <code>OPTIONS</code> request describes it like so:
        </p>

        <pre>
"lexis_cite": {
    "type": "CharFilter",
    "lookup_types": [
        "exact"
    ]
}</pre>
        <p>This means that it is a <code>CharFilter</code>, and that it can only be filtered for exact matches.
        </p>
        <p>Here's a more complicated example:</p>
        <pre>
"scdb_votes_majority": {
    "type": "NumberFilter",
    "lookup_types": [
        "exact",
        "gte",
        "gt",
        "lte",
        "lt",
        "range"
    ]
}</pre>
        <p>This field, <code>scdb_votes_majority</code>, is a <code>NumberFilter</code> which allows you to filter by exact matches, numbers that are greater than
            (<code>gt</code>), greater than or equal (<code>gte</code>), less than
            (<code>lt</code>), less than or equal (<code>lte</code>), or within a range.
        <p>
        <p>These field lookups can be used by appending them to a field with a double underscore as a separator. For example, this would return all clusters with a <code>scdb_votes_majority</code> value greater than 2:
        </p>
        <pre class="scrollable">curl {% get_full_host %}{% url "opinioncluster-list" version="v3" %}?scdb_votes_majority__gt=2</pre>
        <p>These filters can be combined using multiple <code>GET</code> parameters.</p>
        <p>There are a few special types of filters. The first are <code>RelatedFilter</code>s, which allow you to use any of the filters from one object on a different, related object. For example, when you are using the <code>Docket</code> endpoint, you'll see that it has a filter described as:
        </p>
        <pre>
"court": {
    "type": "RelatedFilter",
    "lookup_types": "See available filters for 'Courts'"
}</pre>
        <p>This means that you can use any of the <code>Court</code> filters while filtering <code>Docket</code>s. For example, the <code>Court</code> endpoint advertises this filter:
        </p>
        <pre>
"id": {
    "type": "CharFilter",
    "lookup_types": [
        "exact"
    ]
}
</pre>
        <p>Thus, you can lookup dockets from a specific jurisdiction using:</p>
        <pre class="scrollable">curl {% get_full_host %}{% url "docket-list" version="v3" %}?court__id=scotus</pre>
        <p>This opens up many possibilities. For example, another filter on the <code>Court</code> endpoint is for <code>jurisdiction</code>s:
        </p>
        <pre>
"jurisdiction": {
    "type": "MultipleChoiceFilter",
    "lookup_types": [
        "exact"
    ],
    "choices": [
        {
            "display_name": "Federal Appellate",
            "value": "F"
        },
        {
            "display_name": "Federal District",
            "value": "FD"
        },
        ...more choices here...
    ]
}
</pre>
        <p>This is a <code>MultipleChoiceFilter</code>, which means you can select multiple values. In the <code>choices</code> key (truncated above), it lists values that you can filter on.
        </p>
        <p>Thus, if you want to filter for <code>Docket</code>s that occur in Federal Appellate (<code>F</code>) or Federal District (<code>FD</code>) courts, you can do:
        </p>
        <pre class="pre-scrollable">curl {% get_full_host %}{% url "docket-list" version="v3" %}?court__jurisdiction=F&court__jurisdiction=FD</pre>
        <p>Naturally, related filter queries and lookup types can be combined to arrive at queries like:
        </p>
        <pre class="pre-scrollable">curl {% get_full_host %}{% url "docket-list" version="v3" %}?court__date_modified__gt=2013-01-01T00:00:00Z</pre>
        <p>Which would return all dockets that occurred in a court that was modified in our system after January 01, 2013.
        </p>
        <p>Note that date-times are described in the <code>OPTIONS</code> response as <code>IsoDateTimeFilter</code>s, and that dates are simply <code>DateFilter</code>s. The former need dates as above, with the complete date and time provided as described by <a href="http://en.wikipedia.org/wiki/ISO_8601" target="_blank">ISO-8601</a>. The latter only need the date to be provided.
        </p>
        <p>A final trick that can be used with the filters is the exclusion parameter. Any filter can be converted into an exclusion filter by prepending it with an exclamation mark. For example, this returns <code>Docket</code>s from non-Federal Appellate jurisdictions:
        </p>
        <pre class=pre-scrollable>curl {% get_full_host %}{% url "docket-list" version="v3" %}?court__jurisdiction!=F</pre>
        <p>You can see more examples of almost any type of filter in <a href="https://github.com/freelawproject/courtlistener/blob/opinion-split/cl/api/tests.py" target="_blank">our automated tests</a>.
        </p>



        <h3 id="ordering">Ordering</h3>
        <p>To see which fields can be used for ordering, look at the <code>ordering</code> key in an <code>OPTIONS</code> request (see exceptions in <a href="#fn1" id="fn-ref-2">footnote 1</a>). For example, the <code>Position</code> endpoint contains this:
        </p>
        <pre class="pre-scrollable">
"ordering": [
    "date_created",
    "date_modified",
    "date_nominated",
    "date_elected",
    "date_recess_appointment",
    "date_referred_to_judicial_committee",
    "date_judicial_committee_action",
    "date_hearing",
    "date_confirmation",
    "date_start",
    "date_retirement",
    "date_termination"
]</pre>
        <p>Thus, you can order using any of these fields in conjunction with the <code>order_by</code> parameter.</p>
        <p>Decending order can be done using a minus sign. Multiple fields can be requested using a comma-separated list. This, for example, returns judicial <code>Position</code>s ordered by the most recently modified, then by the most recently elected:
        </p>
        <pre class="scrollable">curl {% get_full_host %}{% url "position-list" version="v3" %}?order_by=-date_modified,-date_elected</pre>


        <h3>Field Selection</h3>
        <p>To save bandwidth, fields can be limited by using the <code>fields</code> GET parameter with a comma-separated list of fields you wish to receive.
        </p>
        <p>For example, if you wish to only receive the <code>educations</code> and <code>date_modified</code> fields from the <code>Judge</code> endpoint you could do so with:
        </p>
        <pre class="scrollable">curl {% get_full_host %}{% url "person-list" version="v3" %}?fields=educations,date_modified</pre>
        <p>Unfortunately, this cannot be used for nested resources, though <a href="https://github.com/freelawproject/courtlistener/issues/407" target="_blank">we welcome contributions in this area</a>.
        </p>



        <h3 id="limitations-throttles">Limitations &amp; Throttles</h3>
        <p>At present, this API is throttled to 5,000 queries per hour. Anonymous users (those that are not logged in), are allowed 100 queries per day for testing purposes.
        </p>
        <p>These numbers are counted by using the <code>X-Forwarded-For</code> and <code>Remote-Addr</code> HTTP headers, which can create problems for users that are behind a gateway that uses <a href="http://en.wikipedia.org/wiki/Network_address_translation">Network Address Translation (NAT)</a>. For more information about how this works, <a href="http://www.django-rest-framework.org/api-guide/throttling/#how-clients-are-identified">read the documentation on the Django REST Framework website</a>, but in general, the simplest solution is usually to log in. Note that using the browsable HTML API counts towards these thresholds since it's technically just another mediatype of the API.
        </p>
        <p>If you are hitting these limits or anticipate doing so, <a href="{% url "contact" %}">please get in touch</a> so we can investigate easing your thresholds.
        </p>


        <h3 id="field-details">Field Details</h3>
        <h4 id="date-formats">Date Formats</h4>
        <p>As <a href="http://xkcd.com/1179/">required by an influential comic strip</a>, all date formats are set to <a href="http://en.wikipedia.org/wiki/ISO_8601">ISO-8601 format</a>.
        </p>


        <h4 id="case-names">Case Names</h4>
        <p>Unfortunately, case Names are a complicated topic, and there are a few common misconceptions about them:
        </p>
        <ol>
            <li><strong>Case names are not unique.</strong> There's nothing stopping a court from using <em>Johnson v. State</em> every time a person named Johnson sues the State. Indeed, this is common.
            </li>
            <li><strong>Case names are not stable.</strong> Many cases begin their lives by suing the governor or the Attorney General. But these people change as a result of elections or appointments and so the names of these cases must change too.
            </li>
            <li><strong>Case names don't always contain v.</strong> Instead, many cases start with <em>In Re</em> or other abbreviations.
            </li>
        </ol>
        <p>We've done our best to normalize case names wherever we can, following Blue Book conventions. Some things we regularly do include:
        </p>
        <ol>
            <li>We normalize all the different ways people write "United States" (U.S.A., United States of America, U.S., etc.) All of these variations simply become "United States", as the Blue Book requires.
            </li>
            <li>We remove some abbreviations, like <em>Et al</em>.</li>
            <li>We replace any instance of vs. with v.</li>
            <li>We do our best to make the case names Title Case rather than UPPERCASE, as many courts insist on publishing them.</li>
        </ol>
        <p>The result of all this work is that we have pretty good case names.</p>
        <p>In the API, you'll see case names in a variety of places due to the fact that they can change over time. For example, there are <code>case_name</code> fields on the <code>Docket</code> object and also on the <code>OpinionCluster</code> objects. In almost all instances, these values are the same but some cases have different values for the <code>Docket</code> than for an <code>OpinionCluster</code>, so we keep this data in duplicate.
        </p>
        <p>Case names can also vary considerably in length, and we've identified three different types of case names:
        </p>
        <ol>
            <li><code>case_name</code>: This is a typical case name that can be used in almost all references. An example might be <em>Roe v. Wade</em>.
            </li>
            <li><code>case_name_short</code>: This is a shortened one or two word case name that can be used in legal writing after the standard case name has been provided by the author. An example of this might be simply <em>Roe</em> used, "As was stated in <em>Roe</em>&hellip;"
            </li>
            <li><code>case_name_full</code>: This is the full list of plaintiffs and defendants in a case, sometimes going on for hundreds of words, and often including titles or other information. For example: <em>Roe Et Al v. Wade, District Attorney of Dallas County</em>.
            </li>
        </ol>
        <p>All cases have at least one of these values, many have two values and some have all three. A <code>case_name_short</code> was generated algorithmically for every case possible, but about 40% of cases were too complicated for our program to process and so they were left blank. Human editors have ensured that every Supreme Court case from 1945 to present has a <code>case_name_short</code> value.
        </p>
        <p><code>case_name</code> is available for the majority of cases, except those that were imported from Resource.org, which only provided <code>case_name_full</code> values. When that happened, there was no way for us to condense a <code>case_name_full</code>, so until a human editor is available to review them, they will lack this value. All cases have either a <code>case_name</code> or a <code>case_name_full</code> value.
        </p>
        <p>Our general-purpose advice is to use a <code>case_name</code> if it is available and to fall back on the <code>case_name_full</code> if it is not. If you are interested in sponsoring trained humans to improve this data, please <a href="{% url "contact" %}">get in touch</a>.
        </p>


        <h4 id="absolute-url">The <code>absolute_url</code> Field</h4>
        <p>The <code>absolute_url</code> field shows the URL where a resource can be seen live on the site. It is absolute in the sense that it should never change and will always be backwards compatible if changes are ever needed.
        </p>
        <p>In some cases you might start with a URL from CourtListener, and you might want to look up the item in the API. Generally, CourtListener URLs are designed to contain an ID that can be used in the API to look it up, following a pattern like:
        </p>
        <pre class="scrollable">/$document-type/$numeric-id/$name-of-the-case/</pre>
        <p>
            There are three sections:
        </p>
        <ol>
            <li>
                <strong>$document-type</strong>: This is the type of document that has been returned, for example, "opinion" indicates that you have gotten an opinion as your result.
            </li>
            <li>
                <strong>$numeric-id</strong>: This is a numeric representation of the ID for the document. This value increments as we add content to the system. Note that due to deletions and modifications the numeric IDs are not guaranteed to be purely sequential&mdash;IDs will be missing.
            </li>
            <li>
                <strong>$name-of-the-case</strong>: This is the "<a href="https://en.wikipedia.org/wiki/Slug_%28publishing%29">slug</a>" of the document, and generally mirrors its case name. This value can change if we clean up a case name, but provided it is not omitted completely, this part of the URL can be any value without ever affecting the page that is loaded. Put another way, we load pages based on the <code>$numeric-id</code> and <code>$document-type</code>, not by the name of the case.
            </li>
        </ol>



        <h3 id="upgrades">Upgrades and Fixes</h3>
        <p>Like the rest of the CourtListener platform, this API and its documentation are <a href="https://github.com/freelawproject/courtlistener">open source</a>. If it lacks functionality that you desire or if you find these notes lacking, pull requests providing improvements are very welcome. Just get in touch on <a href="http://lists.freelawproject.org/cgi-bin/mailman/listinfo/dev">our developer forum</a> or via our <a href="{% url "contact" %}">contact form</a> to discuss your ideas. Or, if it's something quick, just go ahead and send us a pull request.
        </p>
        <p>Getting this kind support is one of the most rewarding things possible and is a major goal of <a href="https://free.law">Free Law Project</a>. Many of the features you use on CourtListener were built this way. We're building something together.
        </p>


        <h2 id="endpoints">Endpoints</h2>
        <h3 id="docket-endpoint">{% url "docket-list" version="v3" %}</h3>
        <p>As described above, <code>Docket</code> objects link <code>OpinionCluster</code> and <code>Audio</code> objects together, following the conventional definition of a docket. As with all other endpoints, you can look up the field descriptions, filtering options, ordering options, and rendering options by making an <code>OPTIONS</code> request.
        </p>

        <h3 id="cluster-endpoint">{% url "opinioncluster-list" version="v3" %}</h3>
        <p>This is a major endpoint serving up the millions of <code>OpinionClusters</code> that are available on CourtListener. As with all other endpoints, you can look up the field descriptions, filtering options, ordering options, and rendering options by making an <code>OPTIONS</code> request.
        </p>
        <p>Follows are a few notes on the fields that are available:</p>
        <ul>
            <li>There are presently two fields, <code>judges</code> and <code>panel</code> that contain similar information. The <code>judges</code> field is simply a string field containing the names of judges that heard a case. The <code>panel</code> field is a foreign key to the <code>Judges</code> endpoint, providing more detail about a specific judge or judges. These two fields exist because we have not historically had access to good judicial data, forcing us to simply save the name of the judge as a string.
            </li>
            <li><code>citation_id</code> can safely be ignored by new users of this API. It exists to provide backwards compatibility to an endpoint that has been merged into the <code>OpinionCluster</code> endpoint.
            </li>
            <li>
                <p>There are numerous citation fields such as <code>federal_cite_one</code>, <code>state_cite_two</code>, etc. These exist to hold all of the possible <a href="http://legalresearchprinciples.pbworks.com/w/page/16129937/Parallel%20Citations">parallel citations</a> that an <code>OpinionCluster</code> may have. They are always filled sequentially for a given citation type (federal, state, specialty, etc.). After several years reorganizing our schema, we currently categorize citations into the following types:
                </p>
                <ul>
                    <li>Neutral (e.g. 2013 FL 1)</li>
                    <li>Federal (e.g. 5 F. 55)</li>
                    <li>State (e.g. Alabama Reports</li>
                    <li>Regional (e.g. Atlantic Reporter)</li>
                    <li>Specialty (e.g. Lawyers' Edition)</li>
                    <li>Old Supreme Court (e.g. 5 Black. 55)</li>
                    <li>Lexis or West (e.g. 5 LEXIS 55, or 5 WL 55)</li>
                </ul>
                <p class="v-offset-above-1">Some opinions have multiple citations of a given type, and to support those instances we provide several fields of that type. For example, we have fields for <code>federal_cite_one</code>, <code>federal_cite_two</code>, and <code>federal_cite_three</code>, which together can hold three parallel federal citations for a single opinion.
                </p>
                <p>You can learn more about citation types in our <a href="https://github.com/freelawproject/reporters-db" target="_blank">Reporter Database</a> project.
                </p>
            </li>
            <li>The <code>source</code> field is a very important one, as it designates where the content of the <code>OpinionCluster</code> came from. This is vitally important when you are looking at the sub_opinions of the <code>OpinionCluster</code> (the dissents, concurrences, etc.) because the <code>source</code> field indicates whether we will have the plain text or HTML of the item.
            </li>
        </ul>

        <h3 id="opinion-endpoint">{% url "opinion-list" version="v3" %}</h3>
        <p>The <code>Opinion</code> endpoint contains specific information about Opinions. As with all other endpoints, you can look up the field descriptions, filtering options, ordering options, and rendering options by making an <code>OPTIONS</code> request.
        </p>
        <p>Follows are a few notes on the fields that are available:</p>
        <ul>
            <li>The <code>type</code> field indicates whether the item is a concurrence, lead opinion, dissent, etc. The values provided for this field are proceeded by numbers so that if they are sorted alphabetically, they will also be sorted from highest priority to lowest.
            </li>
            <li>The <code>sha1</code> field provides a unique cryptographic hash of every item in our collection.
            </li>
            <li>Some of the <code>plain_text</code>, <code>html</code>, <code>html_lawbox</code>, <code>html_columbia</code> and <code>html_with_citations</code> fields will be populated depending on the <code>OpinionCluster</code>'s <code>source</code> field:
                <ul>
                    <li><code>plain_text</code> will be populated if we got the opinion from a court's website as a PDF or Microsoft Word document.
                    </li>
                    <li><code>html</code> will be populated if we got the opinion from a court's website as a Word Perfect or HTML document, or if we got the opinion from Resource.org, which provides HTML documents.
                    </li>
                    <li><code>html_lawbox</code> will be populated if we got the content from the Lawbox donation.
                    </li>
                    <li><code>html_columbia</code> will be populated if we got the content from the Columbia collaboration.
                    </li>
                    <li><code>html_with_citations</code> is a special field that is populated by parsing one of the above fields for citations, generating an HTML file with linkified citations. All items should eventually have this field (though processing can take some time). In general, this is the field that is used to generate pages on CourtListener.
                    </li>
                </ul>
            </li>
        </ul>



        <h3 id="audio-endpoint">{% url "audio-list" version="v3" %}</h3>
        <p>The <code>audio</code> endpoint is modeled after the <code>OpinionCluster</code> endpoint and has very similar behavior, except instead of serving collections of opinions, it currently serves oral arguments and may later serve other similar audio files. As with all other endpoints, you can look up the field descriptions, filtering options, ordering options, and rendering options by making an <code>OPTIONS</code> request.
        </p>


        <h3 id='cites-endpoint'>{% url "opinionscited-list" version="v3" %}</h3>
        <p>This endpoint provides an interface into the citation graph that CourtListener provides between <code>Opinion</code>s. Using the filters listed in response to an <code>OPTIONS</code> request, you can see the <code>Opinion</code>s that an <code>Opinion</code> cites (it's "Authorities") or you can see the <code>Opinion</code>s that cite an <code>Opinion</code>.
        </p>These can be thought of as compliments, though the results can be dramatically different. For example, a very important <code>Opinion</code>, <em><a href="{% url "view_case" "111170" "strickland-v-washington" %}">Strickland v. Washington</a></em>, has been cited thousands of times by subsequent cases, but a quick look in the database reveals that no <code>Opinion</code> has more than about 500 authorities (things it cites to), and most have about 60.
        </p>
        <p>The citation graph is also provided as <a href="{% url "bulk_data_index" %}#citation-data">a single CSV file</a> listing every citation between <code>Opinion</code>s. Please don't attempt to crawl this endpoint &mdash; It has more than 10 million records.
        </p>


        <h3 id="jurisdiction-endpoint">{% url "court-list" version="v3" %}</h3>
        <p>
            This endpoint provides basic information about the <strong>{{ court_count }}</strong> jurisdictions in the American court system that we support. As with all other endpoints, you can look up the field descriptions, filtering options, ordering options, and rendering options by making an <code>OPTIONS</code> request.
        </p>
        <p>Please cache the results of this endpoint to your system. It does not change often.
        </p>



        <h3 id="search-endpoint">{% url "search-list" version="v3" %}</h3>
        <p>This endpoint allows you to query our search engine in a similar manner as is possible in our front end. Because this endpoint does not use the Django models directly, this endpoint is quite different than any other. Unfortunately, unlike other endpoints, it does not support <code>OPTIONS</code> requests and thus is not self-documenting. Several Additional differences should also be noted:
        </p>
        <ul>
            <li><strong>Ordering</strong>: Instead of using a minus sign to flip
                ordering, it uses <code>asc</code> and <code>desc</code>.
            </li>
            <li><strong>Filtering</strong>: Instead of using the Django lookup fields, it uses Solr syntax.To filter on this endpoint, we recommend identifying an effective query on the front end that generates the results you desire and then using that query (and variations thereof) to query the API. On the backend, the same code serves both the API and the front end.
            </li>
            <li>
                <p><strong>Fields</strong>: The fields on this endpoint often differ slightly from those in the other endpoints. Both their names and their values may be different. For example, instead of having a field called <code>nature_of_suit</code>, this endpoint has a field called <code>suitNature</code>. Instead of having a number of citation fields (<code>federal_cite_one</code>, <code>state_cite_two</code>, etc.), this endpoint just has all the citations in a single field called <code>citations</code>, which provides the same values as a list.
                </p>
                <p>These changes are all necessary to make this endpoint a powerful and user friendly search engine. For example, users can query natures of suit using a query like <code>suitNature:foo</code> instead of having to write underscores. Users can search all citations at once, not having to think about whether it's a federal citation or a state one or something else.
                </p>
            </li>
            <li>This endpoint can return different kinds of objects, depending on the <code>type</code> parameter. If it's set to <code>o</code>, you'll get opinions. If it's set to <code>oa</code>, you'll get back oral arguments. We'll add more <code>type</code>s in the future too.
            </li>
            <li>Like the front end, when the <code>type</code> is set to return opinions, only precedential results are returned by default. To get other precedential statuses, you need to explicitly request them.
            </li>
        </ul>
        <p>Some fields warrant more details:
        </p>
        <ul>
            <li><strong><code>snippet</code></strong>: This field contains the same values as are found on the front end, utilizing the HTML5 <code>&lt;mark&gt;</code> element to identify up to five matches in a document. If you wish to use the snippet but do not want highlighting, simply use CSS to give the <code>mark</code> element no styling, like a <code>span</code> element. This field only responds to arguments provided to the <code>q</code> parameter. If that parameter is not used, the <code>snippet</code> field will show the first 500 characters of the <code>text</code> field.
            </li>
            <li><strong><code>stat_*</code></strong>: For this Boolean field, we provide opinionated default values. Because most searchers are not interested in non-precedential (unpublished) results, we leave them out by default. If you wish to receive these items, you must explicitly ask for them as you do on the front end.
            </li>
        </ul>

        <h3 id="judge-endpoint">Judge Endpoints</h3>
        <p>We are pleased to share the world's first REST API of federal and state judges. This database is very detailed, containing nearly 100 fields. As with the other endpoints, the best way to find field-level descriptions is by sending an <code>OPTIONS</code> request to an endpoint. If you don't have a clear understanding of a field after sending an options request and reading this documentation, please <a href="{% url "contact" %}">contact us</a> so we may help.
        </p>
        <h4>Endpoint-Level Notes</h4>
        <p>The judicial REST API contains the following endpoints:</p>
        <ul>
            {% include "includes/judge-endpoints.html" %}
            <li><strong>Sources</strong>: These are objects explaining the source of a piece of data. For example, it may provide a link or a text explanation of where something is from.
            </li>
            <li><strong>ABA Ratings</strong>: These are the American Bar Association ratings that are given to many judges, particularly those that are nominated to federal positions.
            </li>
        </ul>
        <h4>Field-Level Notes</h4>
        <ul>
            <li>There are a number of date "granularity" fields. These are used to indicate how granular a date is known to be. For example, for many people we know the year they died but not the month or day. For these people, the <code>date_dod</code> field might be <code>2010-01-01</code>, and the <code>date_granularity_dod</code> field would be set to <code>%Y</code>, using <a href="https://secure.php.net/manual/en/function.strftime.php">strftime formatting</a> to indicate the granularity. If a date field has a granularity field, both fields will either be completed or null.
            </li>
            <li>There are a number of validation rules that can be useful for understanding this data. For example, one rule mandates that every position be affiliated with a school, a court, or an organization. These rules are written in Python and can be found by looking in the <code>clean_fields</code> method of the <code>Model</code> classes
                <a href="https://github.com/freelawproject/courtlistener/blob/master/cl/people_db/models.py">found here.</a>.
            </li>
        </ul>


        <h2>Footnotes</h2>
        <p id="fn1"><sup>1</sup> The <code>search</code> endpoint is handled by our search engine, not our database. Filters and ordering are thus applied using the same <code>GET</code> parameters as are created when using the front end of the website. Our recommendation is to hone your query there, then move the parameters to the API. See more details in <a href="#search-endpoint">the search section of this document</a>.
        </p>
        <p><a href="#fn-ref-1">Back to reference 1 &#8617;</a></p>
        <p><a href="#fn-ref-2">Back to reference 2 &#8617;</a></p>
    </div>



    <div class="col-sm-5">
        <div class="well">
            <h3 class="top">Your Authorization Token</h3>
            {% if user.is_authenticated %}
                <p>Your permanent token for use with this API is:</p>
                <h4><code>{{ user.auth_token }}</code></h4>
            {% else %}
                <p><a href="{% url "sign-in" %}?next={{ request.path }}"
                        class="btn btn-primary btn-lg">Sign In To See Your Token</a>
                </p>
            {% endif %}
        </div>

        <div class="sidebar-section">
            <h3><span>Available Jurisdictions</span></h3>
            <p>We currently have <strong>{{ court_count }}</strong> jurisdictions that can be accessed with our APIs. Details about the jurisdictions that are available can <a href="{% url "court_index" %}">be found here</a>.
            </p>
            <p>Below is a cheat sheet listing the abbreviations for all available jurisdictions.</p>
            <div id="scrollable-jurisdictions">
                <table class="table settings-table">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th title="Gathered from Blue Book, Cornell.edu and ALWD">Abbreviation</th>
                            <th title="The number of cases in this jurisdiction on CourtListener">Count</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for court in courts %}
                        <tr>
                            <td>{{ court.full_name }}</td>
                            <td>
                                <a href="/?q=&court_{{ court.pk }}=on&order_by=score+desc">
                                    {{ court.pk }}
                                </a>
                            </td>
                            <td>{{ court.count }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>




        <div class="sidebar-section">
            <h3><span>Powered By</span></h3>
            <p> If you are interested, we have a variety of <a href="https://free.law/assets/">"Powered By" logos</a> available for your website or application. We appreciate a reference, and it supports our work, but it's not currently required.
            </p>
            <a href="https://free.law/assets/">
                <img src="{{ STATIC_PREFIX }}png/logo-long-w350.png" width="350" height="81">
            </a>
        </div>

        <div class="sidebar-section">
            <h3><span>CiteGeist Scores</span></h3>
            <p>If you are interested in the CiteGeist score for each opinion, it is now available via our <a href="{% url "bulk_data_index" %}#citegeist">bulk data API</a>.
            </p>
            <p>This data is not available via the REST API because a single new citation between cases causes a ripple effect through every value in the database.
            </p>
        </div>

        <div class="sidebar-section">
            <h3><span>Maintenance Schedule</span></h3>
            <p>We regularly perform bulk tasks on our servers and maintain <a href="https://www.google.com/calendar/embed?src=michaeljaylissner.com_fvcq09gchprghkghqa69be5hl0@group.calendar.google.com&ctz=America/Los_Angeles">a public calendar</a> for tracking them. If you need to do bulk crawling of our API, please be mindful of this schedule.
            </p>
        </div>

        <div class="sidebar-section">
            <h3><span>Browser Tools</span></h3>
            <p>Several tools are available to help view JSON in your browser. If you are using Firefox, check out <a href="https://addons.mozilla.org/en-US/firefox/addon/jsonovich/">JSONovitch</a>. If you are using Chrome, check out <a href="https://chrome.google.com/webstore/detail/jsonview/chklaanhfefbnpoihckbnefhakgolnmc?hl=en">JSONView</a>.
            </p>
        </div>

        {% include "includes/deprecated_sidebar_section.html" %}

        <div class="sidebar-section">
            <h3 id="copyright"><span>Copyright</span></h3>
            <p>
                Our data is free of known copyright restrictions.<br />
                <a rel="license" href="http://creativecommons.org/publicdomain/mark/1.0/">
                    <img src="https://i.creativecommons.org/p/mark/1.0/88x31.png" alt="Public Domain Mark" height="31" width="88"/>
                </a>
            </p>
        </div>
    </div>
{% endblock %}
