# Generated by Django 3.1.7 on 2021-05-13 23:16

import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models

import cl.lib.storage
import cl.recap.models


class Migration(migrations.Migration):

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('search', '0100_add_court_and_pk_index_to_docket'),
        ('recap', '0032_email_processing_queues'),
    ]

    operations = [
        migrations.AlterField(
            model_name='emailprocessingqueue',
            name='date_created',
            field=models.DateTimeField(auto_now_add=True, db_index=True, help_text='The moment when the item was created.'),
        ),
        migrations.AlterField(
            model_name='emailprocessingqueue',
            name='date_modified',
            field=models.DateTimeField(auto_now=True, db_index=True, help_text='The last moment when the item was modified. A value in year 1750 indicates the value is unknown'),
        ),
        migrations.AlterField(
            model_name='emailprocessingqueue',
            name='filepath',
            field=models.FileField(help_text='The S3 filepath to the email and receipt stored as JSON text.', max_length=300, null=True, storage=cl.lib.storage.IncrementingAWSMediaStorage(), upload_to=cl.recap.models.make_recap_email_processing_queue_aws_path),
        ),
        migrations.AlterField(
            model_name='emailprocessingqueue',
            name='recap_documents',
            field=models.ManyToManyField(help_text='Document(s) created from the PACER email, processed as a function of this queue.', related_name='recap_email_processing_queue', to='search.RECAPDocument'),
        ),
        migrations.AlterField(
            model_name='emailprocessingqueue',
            name='status',
            field=models.SmallIntegerField(choices=[(1, 'Awaiting processing in queue.'), (2, 'Item processed successfully.'), (3, 'Item encountered an error while processing.'), (4, 'Item is currently being processed.'), (5, 'Item failed processing, but will be retried.'), (6, 'Item failed validity tests.'), (7, 'There was insufficient metadata to complete the task.')], db_index=True, default=1, help_text='The current status of this upload. Possible values are: (1): Awaiting processing in queue., (2): Item processed successfully., (3): Item encountered an error while processing., (4): Item is currently being processed., (5): Item failed processing, but will be retried., (6): Item failed validity tests., (7): There was insufficient metadata to complete the task.'),
        ),
        migrations.AlterField(
            model_name='emailprocessingqueue',
            name='uploader',
            field=models.ForeignKey(help_text='The user that sent in the email for processing.', on_delete=django.db.models.deletion.CASCADE, related_name='recap_email_processing_queue', to=settings.AUTH_USER_MODEL),
        ),
    ]
