BEGIN;
--
-- Create model AuthorizedAgent
--
CREATE TABLE "people_db_authorizedagent" ("id" integer NOT NULL PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY, "date_created" timestamp with time zone NOT NULL, "date_modified" timestamp with time zone NOT NULL, "agent_name" varchar(100) NOT NULL, "authorization_date" timestamp with time zone NULL, "revocation_date" timestamp with time zone NULL, "agent_id" integer NULL, "attorney_id" integer NOT NULL, "docket_id" integer NOT NULL, "party_id" integer NULL);
ALTER TABLE "people_db_authorizedagent" ADD CONSTRAINT "people_db_authorizedagen_docket_id_attorney_id_ag_267d7325_uniq" UNIQUE ("docket_id", "attorney_id", "agent_name");
ALTER TABLE "people_db_authorizedagent" ADD CONSTRAINT "people_db_authorized_agent_id_aa013125_fk_people_db" FOREIGN KEY ("agent_id") REFERENCES "people_db_person" ("id") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "people_db_authorizedagent" ADD CONSTRAINT "people_db_authorized_attorney_id_95bc1eee_fk_people_db" FOREIGN KEY ("attorney_id") REFERENCES "people_db_attorney" ("id") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "people_db_authorizedagent" ADD CONSTRAINT "people_db_authorized_docket_id_0f8d91ec_fk_search_do" FOREIGN KEY ("docket_id") REFERENCES "search_docket" ("id") DEFERRABLE INITIALLY DEFERRED;
ALTER TABLE "people_db_authorizedagent" ADD CONSTRAINT "people_db_authorized_party_id_b7178dd8_fk_people_db" FOREIGN KEY ("party_id") REFERENCES "people_db_party" ("id") DEFERRABLE INITIALLY DEFERRED;
CREATE INDEX "people_db_authorizedagent_date_created_47da9741" ON "people_db_authorizedagent" ("date_created");
CREATE INDEX "people_db_authorizedagent_date_modified_bb9ef256" ON "people_db_authorizedagent" ("date_modified");
CREATE INDEX "people_db_authorizedagent_agent_id_aa013125" ON "people_db_authorizedagent" ("agent_id");
CREATE INDEX "people_db_authorizedagent_attorney_id_95bc1eee" ON "people_db_authorizedagent" ("attorney_id");
CREATE INDEX "people_db_authorizedagent_docket_id_0f8d91ec" ON "people_db_authorizedagent" ("docket_id");
CREATE INDEX "people_db_authorizedagent_party_id_b7178dd8" ON "people_db_authorizedagent" ("party_id");
COMMIT;
