{% comment %}
 Two tricks:
    1. Ensure that the correct option is selected at all times.
    2. Hide the options that don't apply to different tabs.
{% endcomment %}

<select class="external-input v-offset-above-2" id="id_order_by" name="order_by">
    {% if request.GET.type == 'o' or not request.GET.type %}
        <option value="score desc"
                {% if search_form.order_by.value == "score desc" %}
                selected="selected"
                {% endif %}>Relevance
        </option>
        <option value="dateFiled desc"
                {% if search_form.order_by.value == "dateFiled desc" %}
                    selected="selected"
                {% endif %}>Newest First</option>
        <option value="dateFiled asc"
                {% if search_form.order_by.value == "dateFiled asc" %}
                    selected="selected"
                {% endif %}>Oldest First</option>
        <option value="citeCount desc"
                {% if search_form.order_by.value == "citeCount desc" %}
                    selected="selected"
                {% endif %}>Most Cited First</option>
        <option value="citeCount asc"
                {% if search_form.order_by.value == "citeCount asc" %}
                    selected="selected"
                {% endif %}>Least Cited First</option>
    {% elif request.GET.type == 'oa' %}
        <option value="score desc"
                {% if search_form.order_by.value == "score desc" %}
                selected="selected"
                {% endif %}>Relevance
        </option>
        <option value="dateArgued desc"
                {% if search_form.order_by.value == "dateArgued desc" %}
                    selected="selected"
                {% endif %}>Newest First</option>
        <option value="dateArgued asc"
                {% if search_form.order_by.value == "dateArgued asc" %}
                    selected="selected"
                {% endif %}>Oldest First</option>
    {% elif request.GET.type == 'p' %}
        <option value="name_reverse asc"
                {% if search_form.order_by.value == "name_reverse asc" %}
                    selected="selected"
                {% endif %}>Last Name</option>
        <option value="dob desc"
                {% if search_form.order_by.value == "dob desc" %}
                    selected="selected"
                {% endif %}>Most Recently Born</option>
        <option value="dob asc"
                {% if search_form.order_by.value == "dob asc" %}
                    selected="selected"
                {% endif %}>Least Recently Born</option>
        <option value="dod desc"
                {% if search_form.order_by.value == "dod desc" %}
                    selected="selected"
                {% endif %}>Most Recently Deceased</option>
    {% endif %}
</select>
