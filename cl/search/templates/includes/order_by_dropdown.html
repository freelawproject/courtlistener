{% comment %}
 Two tricks:
    1. Ensure that the correct option is selected at all times.
    2. Hide the options that don't apply to different tabs.
{% endcomment %}

<div class="form-group">
    <label for="id_order_by">Search Results Order:</label>
    {% with search_form.type.value as v %}
    <select class="external-input form-control" id="id_order_by" name="order_by">
        {% if v == 'o' or v == 'r' or v == 'oa' %}
            <option value="score desc"
                    {% if search_form.order_by.value == "score desc" %}
                    selected="selected"
                    {% endif %}>Relevance</option>
        {% endif %}

        {% if v == 'o' or v == 'r' %}
            <option value="dateFiled desc"
                    {% if search_form.order_by.value == "dateFiled desc" %}
                    selected="selected"
                    {% endif %}>Newest First</option>
            <option value="dateFiled asc"
                    {% if search_form.order_by.value == "dateFiled asc" %}
                    selected="selected"
                    {% endif %}>Oldest First</option>
        {% endif %}

        {% if v == 'o' %}
            <option value="citeCount desc"
                    {% if search_form.order_by.value == "citeCount desc" %}
                    selected="selected"
                    {% endif %}>Most Cited First</option>
            <option value="citeCount asc"
                    {% if search_form.order_by.value == "citeCount asc" %}
                    selected="selected"
                    {% endif %}>Least Cited First</option>
        {% endif %}

        {% if v == 'oa' %}
            <option value="dateArgued desc"
                    {% if search_form.order_by.value == "dateArgued desc" %}
                        selected="selected"
                    {% endif %}>Newest First</option>
            <option value="dateArgued asc"
                    {% if search_form.order_by.value == "dateArgued asc" %}
                        selected="selected"
                    {% endif %}>Oldest First</option>
        {% endif %}

        {% if v == 'p' %}
            <option value="name_reverse asc"
                    {% if search_form.order_by.value == "name_reverse asc" %}
                        selected="selected"
                    {% endif %}>Last Name</option>
            <option value="dob desc,name_reverse asc"
                    {% if search_form.order_by.value == "dob desc,name_reverse asc" %}
                        selected="selected"
                    {% endif %}>Most Recently Born</option>
            <option value="dob asc,name_reverse asc"
                    {% if search_form.order_by.value == "dob asc,name_reverse asc" %}
                        selected="selected"
                    {% endif %}>Least Recently Born</option>
            <option value="dod desc,name_reverse asc"
                    {% if search_form.order_by.value == "dod desc,name_reverse asc" %}
                        selected="selected"
                    {% endif %}>Most Recently Deceased</option>
        {% endif %}
    </select>
    {% endwith %}
</div>
