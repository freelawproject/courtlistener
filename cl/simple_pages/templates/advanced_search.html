{% extends "base.html" %}

{% block title %}Advanced Search Techniques – CourtListener.com{% endblock %}
{% block og_title %}Advanced Search Techniques – CourtListener.com{% endblock %}
{% block description %}Operators, connectors, fielded search parameters, court IDs, and examples for making advanced search queries on the CourtListener search engine.{% endblock %}
{% block og_description %}Operators, connectors, fielded search parameters, court IDs, and examples for making advanced search queries on the CourtListener search engine.{% endblock %}

{% block sidebar %}{% endblock %}

{% block footer-scripts %}
  {% include "includes/anchors.html" %}
{% endblock %}

{% block content %}
  <div class="col-sm-9">
    <h1>Advanced Query Techniques</h1>
    <p>CourtListener supports highly advanced Boolean queries. These allow you to build a complex search that can be run across our entire corpus.
    </p>
    <p>These operators are all powered by the syntax of the Lucene search engine using the eDisMax query parser. More details about these operators use can be found on <a href="http://lucene.apache.org/java/3_4_0/queryparsersyntax.html">Lucene's help page</a>.
    </p>

    <p>If you would like assistance crafting a query, <a href="{% url "contact" %}">let us know</a>. We can sometimes help.
    </p>


    <h2>Intersections: <code>AND</code></h2>
    <p>This connector is used by default, and so is not usually needed. However, if you wish, you can explicitly create an <code>AND</code> comparison between words (e.g. <code>immigration AND borders</code>).
    </p>

    <h2>Unions: <code>OR</code></h2>
    <p>Creates an <code>OR</code> comparison between words (e.g. <code>immigration OR asylum</code>).
    </p>

    <h2>Negation/Exclusion: <code>-</code>, <code>!</code>, <code>NOT</code></h2>
    <p>Requires that a word or phrase be excluded from the returned results (e.g. <code>immigration NOT "border patrol"</code>). This operator must be written in uppercase.
    </p>

    <h2>Phrase Queries: <code>" "</code></h2>
    <p>Creates a phrase search (e.g. <code>"border patrol"</code>). In the case that quotation marks are not balanced (i.e. there is an odd number of them), they will be ignored.
    </p>

    <h2>Grouped Queries and subqueries: <code>( )</code></h2>
    <p>Using parentheses will group parts of a query (e.g. <code>(customs OR "border patrol") AND asylum</code>). Parentheses can be nested as deeply as needed.
    </p>

    <h2>Fielded Queries: <code>fieldname:term</code></h2>
    <p>In addition to being able to place fielded searches in the side bar, advanced users can also place fielded searches in their main query. For example, a search for <code>court_id:ca1 status:precedential</code> would return only precedential cases (<code>status:precedential</code>)in the First Circuit of Federal Appeals (<code>court_id:ca1</code>).
    </p>
    <p>Parentheses can be used to create more complex queries. For example, <code>casename:(wade OR roe)</code> would find cases containing "wade" or "roe" in the name of the case.
    </p>

    <p>Different search interfaces support different fields according to the following two tables:
    </p>
    {% include "includes/available_fields.html" %}

    <h2>Wildcards and Fuzzy Search: <code>*</code>, <code>?</code>, and <code>~</code></h2>
    <p>Using an asterisk (<strong>*</strong>) allows wildcard searches. For example, <code>immigra*</code> finds all words beginning with "immigra". This can also be used at the beginning or middle of words, at both the beginning and the end of a word, or even all three. For example, you can find all words containing two esses side-by-side with the following query: <code>*ss*</code>. You could also find words with two esses separated by other letters with a query such as: <code>*s*s*</code>. This would find cases containing words like "<strong>s</strong>u<strong>s</strong>an" or   "as<strong>s</strong>i<strong>s</strong>tant".
    </p>

    <p>The question mark character (<strong>?</strong>) can be used similarly as a single letter wildcard. For example, this would find cases containing the word "immigrant" or "emmigration": <code>?mmigra*</code>
    </p>

    <p>Fuzzy search can be applied using the tilde character (<strong>~</strong>) after a word. This is an advanced parameter that allows searches for misspellings or different variations of a word's spelling. For example, searching for <code>immigrant~</code> would find words similar to "immigrant". Values can also be added after the tilde to indicate how similar different spellings must be. The default value, if none is given, is 0.5. Values can range between 0 and 1, with 1 being exact, and 0 being very sloppy. Fuzzy searches tend to broaden the result set, thus lowering precision, but also casting a wider net.
    </p>

    <h2>Proximity: <code>~</code></h2>
    <p>Using a tilde character (<strong>~</strong>) after a phrase will ensure that the words in the phrase are within a desired distance of each other. For example <code>"border fence"~50</code> would find the words border and fence within 50 words of each other.
    </p>

    <h2>Range Queries: <code>[ ]</code></h2>
    <p>Ranges can be queried by using brackets. For example, a search for <code>[1939 TO 1945]</code> would find all cases that contained the numbers 1939 to 1945, inclusive. Range queries can also be fielded, allowing searches like <code>citation:([22 TO 23] F2)</code>, which would find all cases from volumes 22 and 23 of the second series of the Federal Reporter. In range queries, the word 'TO' must be uppercase.
    </p>

    <h2>Date Queries</h2>
    <p>Unfortunately, date queries are difficult to place at present, requiring the full <a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank" rel="nofollow">ISO-8601 standard</a> date formatting. This means that dates must be formatted as follows:
    </p>
    <p>
      <code>YYYY-MM-DDTHH-MM-SSZ</code>
    </p>
    <p>In English that's year-month-day-T-hour-minute-second-Z. For example, here's a date range that finds all opinions from October, 2018:
    </p>
    <p>
      <code><a href="{% url "advanced_o" %}?q=dateFiled%3A[2018-10-01T00%3A00%3A00Z+TO+2018-10-31T00%3A00%3A00Z]">dateFiled:[2018-10-01T00:00:00Z TO 2018-10-31T00:00:00Z]</a>
      </code>
    </p>
    <p>We are working to make this easier for our users.</p>
  </div>
  <div class="col-sm-3">
    {% include "includes/operators_quick_list.html" %}
  </div>
{% endblock %}
